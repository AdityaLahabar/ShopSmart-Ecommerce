import{a as q}from"./chunk-GVWDBIAX.js";import{a as N,b as L}from"./chunk-5FI7F3YC.js";import"./chunk-V3UMSJIZ.js";import{a as X,b as Y}from"./chunk-VNXIYGMO.js";import"./chunk-XRO4AJWX.js";import{a as Z,b as tt}from"./chunk-BPEDXU5J.js";import{a as R}from"./chunk-EE4IVITP.js";import{a as F,b as A}from"./chunk-UU4WYX47.js";import{b as z,f as U,i as W,k as j,n as K,o as Q,q as $,s as G,w as H,x as J}from"./chunk-JCBLNXNN.js";import{i as B}from"./chunk-W7ZXV43W.js";import{a as I,c as k,h as T}from"./chunk-MO3H5P22.js";import"./chunk-6XXA7HXI.js";import{$a as i,Ca as r,Pa as g,Sa as h,Wa as f,Xc as E,_a as e,_b as D,_c as V,ab as y,ba as c,cb as _,ea as M,fb as x,hb as l,la as p,ma as u,qb as o,rb as s,sb as P,vb as S,wb as b,xb as O,za as v,zb as w}from"./chunk-CCEDBA4J.js";function it(n,a){if(n&1){let t=_();e(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),o(3,"Quantity"),i(),e(4,"input",12),O("ngModelChange",function(d){p(t);let C=l(2);return b(C.quantity,d)||(C.quantity=d),u(d)}),i()()(),e(5,"button",13),x("click",function(){p(t);let d=l(2);return u(d.addToCart())}),e(6,"mat-icon"),o(7,"add_shopping_cart"),i(),o(8," ADD TO CART "),i()}if(n&2){let t=l(2);r(4),S("ngModel",t.quantity)}}function ot(n,a){n&1&&(e(0,"p",8),o(1," Please "),e(2,"a",14),o(3,"login"),i(),o(4," to add items to your cart. "),i())}function nt(n,a){if(n&1){let t=_();e(0,"div",0)(1,"div",2),y(2,"img",3),i(),e(3,"div",4)(4,"h1"),o(5),i(),e(6,"mat-chip",5),o(7),i(),e(8,"p",6),o(9),i(),e(10,"p",7),o(11),i(),g(12,it,9,1)(13,ot,5,0,"p",8),e(14,"button",9),x("click",function(){p(t);let d=l();return u(d.goBack())}),e(15,"mat-icon"),o(16,"arrow_back"),i(),o(17," BACK TO PRODUCTS "),i()()()}if(n&2){let t=l();r(2),h("src",t.product.imageUrl,v)("alt",t.product.name),r(3),s(t.product.name),r(2),s(t.product.category),r(2),P("$",t.product.price.toFixed(2),""),r(2),s(t.product.description),r(),f(t.authService.isLoggedIn()?12:13)}}function rt(n,a){n&1&&(e(0,"div",1)(1,"p"),o(2,"Loading product details..."),i()())}var et=class n{product;quantity=1;productService=c(q);route=c(I);router=c(k);cartService=c(R);authService=c(T);snackBar=c(N);ngOnInit(){this.route.params.subscribe(a=>{let t=Number(a.id);this.product=this.productService.getById(t),this.product||this.router.navigate(["/products"])})}addToCart(){this.product&&(this.cartService.addToCart(this.product,this.quantity),this.snackBar.open(`${this.quantity} ${this.product.name} added to cart`,"Close",{duration:3e3}))}goBack(){this.router.navigate(["/products"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-product-detail"]],standalone:!0,features:[w],decls:2,vars:1,consts:[[1,"product-detail"],[1,"loading"],[1,"product-image"],[3,"src","alt"],[1,"product-info"],["color","primary"],[1,"price"],[1,"description"],[1,"login-message"],["mat-button","","color","primary",3,"click"],[1,"quantity-control"],["appearance","outline"],["matInput","","type","number","min","1","max","10",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"],["routerLink","/login"]],template:function(t,m){t&1&&g(0,nt,18,7,"div",0)(1,rt,3,0,"div",1),t&2&&f(m.product?0:1)},dependencies:[D,$,z,j,U,Q,K,W,B,V,E,A,F,tt,Z,Y,X,H,G,J,L],styles:[".product-detail[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:32px;margin-top:16px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:8px;box-shadow:0 4px 8px #0000001a}.product-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}h1[_ngcontent-%COMP%]{margin-bottom:16px;font-size:2rem}.price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#673ab7;margin:16px 0}.description[_ngcontent-%COMP%]{margin-bottom:24px;line-height:1.6}.quantity-control[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-bottom:16px}.login-message[_ngcontent-%COMP%]{margin-bottom:16px;padding:8px;background-color:#e3f2fd;border-radius:4px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px}@media (max-width: 768px){.product-detail[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{et as ProductDetailComponent};
