import{Ka as n,X as a,a as i,b as c}from"./chunk-CCEDBA4J.js";var p=class o{STORAGE_KEY="products";productsSignal=n(this.getInitialProducts());products=this.productsSignal.asReadonly();nextId=this.calculateNextId();constructor(){this.products().length===0&&this.initSampleProducts()}getAll(){return this.products()}getById(t){return this.products().find(e=>e.id===t)}getByCategory(t){return this.products().filter(e=>e.category===t)}getCategories(){return[...new Set(this.products().map(t=>t.category))]}filterProducts(t,e,s){return this.products().filter(r=>{let d=!t||r.category===t,u=!e||r.price>=e,l=!s||r.price<=s;return d&&u&&l})}addProduct(t){let e=c(i({},t),{id:this.nextId++}),s=[...this.products(),e];return this.productsSignal.set(s),this.saveProducts(),e}updateProduct(t){let e=this.products().map(s=>s.id===t.id?t:s);this.productsSignal.set(e),this.saveProducts()}deleteProduct(t){let e=this.products().filter(s=>s.id!==t);this.productsSignal.set(e),this.saveProducts()}getInitialProducts(){let t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):[]}saveProducts(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.products()))}calculateNextId(){let t=this.products();return t.length>0?Math.max(...t.map(e=>e.id))+1:1}initSampleProducts(){let t=[{id:1,name:"Smartphone X",description:"Latest model with advanced features",price:799.99,imageUrl:"https://images.pexels.com/photos/47261/pexels-photo-47261.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Electronics",inStock:!0},{id:2,name:"Wireless Headphones",description:"Premium sound quality with noise cancellation",price:149.99,imageUrl:"https://images.pexels.com/photos/3394650/pexels-photo-3394650.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Electronics",inStock:!0},{id:3,name:"Running Shoes",description:"Lightweight and comfortable for long distance running",price:89.99,imageUrl:"https://images.pexels.com/photos/2529148/pexels-photo-2529148.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Clothing",inStock:!0},{id:4,name:"Coffee Maker",description:"Programmable coffee maker with built-in grinder",price:129.99,imageUrl:"https://images.pexels.com/photos/362216/pexels-photo-362216.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Home",inStock:!0},{id:5,name:"Yoga Mat",description:"Non-slip surface for all types of yoga",price:29.99,imageUrl:"https://images.pexels.com/photos/4498155/pexels-photo-4498155.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Fitness",inStock:!0},{id:6,name:"Smart Watch",description:"Track fitness and receive notifications",price:199.99,imageUrl:"https://images.pexels.com/photos/437037/pexels-photo-437037.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Electronics",inStock:!0},{id:7,name:"Coffee Maker",description:"Programmable coffee maker with built-in grinder",price:129.99,imageUrl:"https://images.pexels.com/photos/31974039/pexels-photo-31974039/free-photo-of-modern-kitchen-counter-with-smart-appliances.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Home",inStock:!0},{id:8,name:"Dumbell",description:"Dumbell for fitness",price:29.99,imageUrl:"https://images.pexels.com/photos/39671/physiotherapy-weight-training-dumbbell-exercise-balls-39671.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Fitness",inStock:!0},{id:9,name:"Smart Watch",description:"Track fitness and receive notifications",price:199.99,imageUrl:"https://images.pexels.com/photos/437037/pexels-photo-437037.jpeg?auto=compress&cs=tinysrgb&w=600",category:"Electronics",inStock:!0}];this.productsSignal.set(t),this.saveProducts(),this.nextId=7}static \u0275fac=function(e){return new(e||o)};static \u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})};export{p as a};
