import{a as Y,b as Z}from"./chunk-YLWZRQLE.js";import{a as G}from"./chunk-KHSJQZ5X.js";import{a as k}from"./chunk-GVWDBIAX.js";import"./chunk-5FI7F3YC.js";import"./chunk-V3UMSJIZ.js";import{a as W,b as X}from"./chunk-VNXIYGMO.js";import"./chunk-XRO4AJWX.js";import{a as tt,b as et}from"./chunk-BPEDXU5J.js";import{a as A}from"./chunk-EE4IVITP.js";import"./chunk-UU4WYX47.js";import{b as D,f as R,g as $,j as q,k as B,l as j,m as H,p as z,r as J,s as K,w as Q,x as U}from"./chunk-JCBLNXNN.js";import{a as N,c as I,i as O}from"./chunk-W7ZXV43W.js";import{a as E,c as L}from"./chunk-MO3H5P22.js";import"./chunk-6XXA7HXI.js";import{$a as r,Ca as l,Pa as g,Rc as T,Sa as C,Wa as s,Xa as h,Xc as V,Ya as P,Za as y,_a as o,_b as S,_c as w,ab as x,ba as d,cb as _,ea as F,fb as p,hb as m,la as u,ma as f,qb as a,rb as M,sb as v,zb as b}from"./chunk-CCEDBA4J.js";var rt=(i,e)=>e.id;function ot(i,e){if(i&1&&(o(0,"mat-option",6),a(1),r()),i&2){let t=e.$implicit;C("value",t),l(),M(t)}}function nt(i,e){if(i&1){let t=_();o(0,"mat-chip",16),p("removed",function(){u(t);let c=m(2);return f(c.removeFilter("category"))}),a(1),r()}if(i&2){let t=m(2);l(),v(" Category: ",t.filterForm.value.category," ")}}function at(i,e){if(i&1){let t=_();o(0,"mat-chip",16),p("removed",function(){u(t);let c=m(2);return f(c.removeFilter("minPrice"))}),a(1),r()}if(i&2){let t=m(2);l(),v(" Min Price: $",t.filterForm.value.minPrice," ")}}function lt(i,e){if(i&1){let t=_();o(0,"mat-chip",16),p("removed",function(){u(t);let c=m(2);return f(c.removeFilter("maxPrice"))}),a(1),r()}if(i&2){let t=m(2);l(),v(" Max Price: $",t.filterForm.value.maxPrice," ")}}function mt(i,e){if(i&1&&(o(0,"div",12)(1,"span"),a(2,"Active Filters:"),r(),g(3,nt,2,1,"mat-chip",15)(4,at,2,1,"mat-chip",15)(5,lt,2,1,"mat-chip",15),r()),i&2){let t=m();l(3),s(t.filterForm.value.category?3:-1),l(),s(t.filterForm.value.minPrice?4:-1),l(),s(t.filterForm.value.maxPrice?5:-1)}}function ct(i,e){if(i&1&&x(0,"app-product-cart",17),i&2){let t=e.$implicit;C("product",t)}}function pt(i,e){if(i&1&&(o(0,"div",13),P(1,ct,1,1,"app-product-cart",17,rt),r()),i&2){let t=m();l(),y(t.filteredProducts)}}function dt(i,e){if(i&1){let t=_();o(0,"div",14)(1,"p"),a(2,"No products match your filters."),r(),o(3,"button",18),p("click",function(){u(t);let c=m();return f(c.resetFilters())}),a(4," Clear Filters "),r()()}}var it=class i{productService=d(k);cartService=d(A);fb=d(z);route=d(E);router=d(L);filterForm;categories=[];filteredProducts=[];ngOnInit(){this.categories=this.productService.getCategories(),this.filterForm=this.fb.group({category:[""],minPrice:[null],maxPrice:[null]}),this.route.queryParams.subscribe(e=>{e.category&&this.filterForm.patchValue({category:e.category}),e.minPrice&&this.filterForm.patchValue({minPrice:Number(e.minPrice)}),e.maxPrice&&this.filterForm.patchValue({maxPrice:Number(e.maxPrice)}),this.applyFilters()})}applyFilters(){let{category:e,minPrice:t,maxPrice:n}=this.filterForm.value;this.router.navigate([],{relativeTo:this.route,queryParams:{category:e||null,minPrice:t||null,maxPrice:n||null},queryParamsHandling:"merge"}),this.filteredProducts=this.productService.filterProducts(e,t,n)}resetFilters(){this.filterForm.reset({category:"",minPrice:null,maxPrice:null}),this.router.navigate([],{relativeTo:this.route,queryParams:{}}),this.filteredProducts=this.productService.getAll()}removeFilter(e){this.filterForm.get(e)?.reset(),this.applyFilters()}hasActiveFilters(){let{category:e,minPrice:t,maxPrice:n}=this.filterForm.value;return!!e||t!==null||n!==null}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=F({type:i,selectors:[["app-product-list"]],standalone:!0,features:[b],decls:31,vars:3,consts:[[1,"container"],[1,"filter-card"],[3,"ngSubmit","formGroup"],[1,"filter-grid"],["appearance","outline"],["formControlName","category"],[3,"value"],["matInput","","type","number","formControlName","minPrice"],["matInput","","type","number","formControlName","maxPrice"],[1,"filter-actions"],["mat-raised-button","","color","primary","type","submit"],["mat-button","","type","button",3,"click"],[1,"active-filters"],[1,"card-grid"],[1,"no-products"],["color","primary","removable",""],["color","primary","removable","",3,"removed"],[3,"product"],["mat-button","","color","primary",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"h1"),a(2,"Products"),r(),o(3,"mat-card",1)(4,"mat-card-content")(5,"form",2),p("ngSubmit",function(){return n.applyFilters()}),o(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),a(9,"Category"),r(),o(10,"mat-select",5)(11,"mat-option",6),a(12,"All Categories"),r(),P(13,ot,2,2,"mat-option",6,h),r()(),o(15,"mat-form-field",4)(16,"mat-label"),a(17,"Min Price"),r(),x(18,"input",7),r(),o(19,"mat-form-field",4)(20,"mat-label"),a(21,"Max Price"),r(),x(22,"input",8),r(),o(23,"div",9)(24,"button",10),a(25," Apply Filters "),r(),o(26,"button",11),p("click",function(){return n.resetFilters()}),a(27," Reset "),r()()()()()(),g(28,mt,6,3,"div",12)(29,pt,3,0,"div",13)(30,dt,5,0,"div",14),r()),t&2&&(l(5),C("formGroup",n.filterForm),l(8),y(n.categories),l(15),s(n.hasActiveFilters()?28:-1),l(),s(n.filteredProducts.length>0?29:30))},dependencies:[S,J,q,D,B,R,$,j,H,O,N,I,U,Q,K,X,W,Z,Y,T,w,V,et,tt,G],styles:["h1[_ngcontent-%COMP%], .filter-card[_ngcontent-%COMP%]{margin-bottom:24px}.filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;align-items:center}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.active-filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;flex-wrap:wrap}.no-products[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;background:#f5f5f5;border-radius:8px;margin-top:24px}@media (max-width: 768px){.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{it as ProductListComponent};
