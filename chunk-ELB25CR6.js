import{a as N,b as B}from"./chunk-BPEDXU5J.js";import{a as R}from"./chunk-SHGSWGPH.js";import{a as U,b as H}from"./chunk-SZC3BDH6.js";import"./chunk-EE4IVITP.js";import{a as j,b as z}from"./chunk-UU4WYX47.js";import"./chunk-JCBLNXNN.js";import{a as w,b as A,c as F,d as D,f as $,i as k}from"./chunk-W7ZXV43W.js";import{d as E,h as I}from"./chunk-MO3H5P22.js";import"./chunk-6XXA7HXI.js";import{$a as i,Ca as a,Cb as S,Db as y,Pa as x,Sa as g,Wa as f,Xc as T,Ya as u,Za as C,Zb as b,_a as t,_b as P,_c as L,ab as m,ba as c,ea as v,hb as p,qb as n,rb as d,sb as s,tb as h,ub as M,za as _,zb as O}from"./chunk-CCEDBA4J.js";var G=(r,o)=>o.id,Y=(r,o)=>o.product.id;function J(r,o){r&1&&(t(0,"div",1)(1,"mat-icon",3),n(2,"receipt_long"),i(),t(3,"h2"),n(4,"No orders yet"),i(),t(5,"p"),n(6,"You haven't placed any orders yet."),i(),t(7,"button",4),n(8," START SHOPPING "),i()())}function K(r,o){if(r&1&&(t(0,"div",9),m(1,"img",14),t(2,"div",15)(3,"div",16),n(4),i(),t(5,"div",17),n(6),i()()()),r&2){let e=o.$implicit;a(),g("src",e.product.imageUrl,_)("alt",e.product.name),a(3),d(e.product.name),a(2),h(" $",e.product.price.toFixed(2)," \xD7 ",e.quantity," ")}}function Q(r,o){if(r&1&&(t(0,"div",10),n(1),i()),r&2){let e=p().$implicit;a(),s(" + ",e.items.length-3," more items ")}}function V(r,o){if(r&1&&(t(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title"),n(3),i(),t(4,"mat-card-subtitle"),n(5),S(6,"date"),i(),m(7,"div",6),t(8,"mat-chip",7),n(9),i()(),m(10,"mat-divider"),t(11,"mat-card-content")(12,"div",8),u(13,K,7,5,"div",9,Y),x(15,Q,2,1,"div",10),i(),t(16,"div",11)(17,"span"),n(18,"Total:"),i(),t(19,"span",12),n(20),i()(),t(21,"div",13)(22,"h3"),n(23,"Shipping to:"),i(),t(24,"p"),n(25),i(),t(26,"p"),n(27),i()()()()),r&2){let e=o.$implicit,l=p(2);a(3),s("Order #",e.id,""),a(2),d(y(6,10,e.date,"medium")),a(3),g("color",l.getStatusColor(e.status)),a(),d(e.status),a(4),C(e.items.slice(0,3)),a(2),f(e.items.length>3?15:-1),a(5),s("$",e.total.toFixed(2),""),a(5),d(e.shippingAddress.name),a(2),M(" ",e.shippingAddress.address,", ",e.shippingAddress.city,", ",e.shippingAddress.postalCode," ")}}function W(r,o){if(r&1&&(t(0,"div",2),u(1,V,28,13,"mat-card",5,G),i()),r&2){let e=p();a(),C(e.orders)}}var q=class r{orders=[];orderService=c(R);authService=c(I);ngOnInit(){this.loadOrders()}loadOrders(){this.authService.isAdmin()?this.orders=this.orderService.getAllOrders():this.orders=this.orderService.getUserOrders(),this.orders.sort((o,e)=>e.date.getTime()-o.date.getTime())}getStatusColor(o){switch(o){case"pending":return"warn";case"processing":return"accent";case"shipped":return"primary";case"delivered":return"primary";default:return"primary"}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=v({type:r,selectors:[["app-order-list"]],standalone:!0,features:[O],decls:5,vars:1,consts:[[1,"container"],[1,"empty-orders"],[1,"orders-list"],[1,"empty-icon"],["mat-raised-button","","color","primary","routerLink","/products"],[1,"order-card"],[1,"spacer"],["selected","",3,"color"],[1,"order-items"],[1,"order-item"],[1,"more-items"],[1,"order-total"],[1,"price"],[1,"shipping-address"],[3,"src","alt"],[1,"item-details"],[1,"item-name"],[1,"item-price"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"h1"),n(2,"My Orders"),i(),x(3,J,9,0,"div",1)(4,W,3,0,"div",2),i()),e&2&&(a(3),f(l.orders.length===0?3:4))},dependencies:[P,b,E,k,w,F,$,D,A,L,T,H,U,z,j,B,N],styles:[".orders-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.order-card[_ngcontent-%COMP%]{margin-bottom:16px}.order-items[_ngcontent-%COMP%]{margin:16px 0}.order-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.order-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:cover;margin-right:16px;border-radius:4px}.item-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:4px}.item-price[_ngcontent-%COMP%]{color:#757575;font-size:.9rem}.more-items[_ngcontent-%COMP%]{margin-top:8px;color:#757575;font-style:italic}.order-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:500;margin:16px 0;padding-top:16px;border-top:1px solid #f0f0f0}.shipping-address[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:12px;border-radius:4px;margin-top:16px}.shipping-address[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:8px;color:#424242}.shipping-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:#616161}.empty-orders[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 16px;background-color:#f5f5f5;border-radius:8px;text-align:center}.empty-icon[_ngcontent-%COMP%]{font-size:64px;height:64px;width:64px;color:#bdbdbd;margin-bottom:16px}"]})};export{q as OrderListComponent};
